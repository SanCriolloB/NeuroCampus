{"openapi":"3.1.0","info":{"title":"NeuroCampus API","version":"0.6.0"},"paths":{"/health":{"get":{"summary":"Health","description":"Endpoint de salud: permite saber si la API está arriba.","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Health Get"}}}}}}},"/datos/ping":{"get":{"tags":["datos","datos"],"summary":"Ping","description":"Pequeño endpoint de salud para el contexto `datos`.","operationId":"ping_datos_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Ping Datos Ping Get"}}}}}}},"/datos/esquema":{"get":{"tags":["datos","datos"],"summary":"Get Esquema","description":"Devuelve el esquema esperado de la plantilla de evaluaciones.\n\n- Si existe el archivo JSON `schemas/plantilla_dataset.schema.json` en la\n  raíz del repo, se parsea y se traduce a una lista de `EsquemaCol`.\n- Si hay cualquier error leyendo ese archivo, se utiliza `_FALLBACK_SCHEMA`.\n\nEl parámetro `version` está reservado para futuras extensiones (por ahora\nse ignora y se devuelve siempre la versión detectada en el JSON o la\nversión por defecto del fallback).","operationId":"get_esquema_datos_esquema_get","parameters":[{"name":"version","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EsquemaResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datos/validar":{"post":{"tags":["datos","datos"],"summary":"Validar Datos","description":"Valida un archivo de datos contra el validador unificado.\n\nFlujo:\n- Gatea el formato (extensión/`fmt`) para responder 400 si no es csv/xlsx/parquet.\n- Construye un `sample` con las primeras filas (para UI y tests).\n- Invoca el `validar_archivo` del *facade* (wrapper unificado).\n- Enriquecer la respuesta del wrapper con `dataset_id` y `sample`.\n\nImportante:\n- No persiste el archivo en disco; para eso está `/datos/upload`.","operationId":"validar_datos_datos_validar_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_validar_datos_datos_validar_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Validar Datos Datos Validar Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datos/upload":{"post":{"tags":["datos","datos"],"summary":"Upload Dataset","description":"Ingesta real del dataset.\n\n- Lee CSV/XLSX/Parquet y lo escribe en `<repo_root>/datasets/{periodo}.parquet` (por defecto).\n- Si el fichero ya existe y `overwrite=False` → 409 Conflict.\n- Si falta motor parquet (pyarrow/fastparquet), cae a CSV (`{periodo}.csv`)\n  y lo informa en `stored_as`.\n\nEste endpoint se invoca normalmente después de una validación exitosa\ncon `/datos/validar`.","operationId":"upload_dataset_datos_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_dataset_datos_upload_post"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatosUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datos/preview":{"get":{"tags":["datos","datos"],"summary":"Devuelve un preview tabular del dataset para renderizar la tabla de la UI.","operationId":"get_dataset_preview_datos_preview_get","parameters":[{"name":"dataset","in":"query","required":true,"schema":{"type":"string","description":"Identificador lógico del dataset/periodo (p.ej. '2025-1')","title":"Dataset"},"description":"Identificador lógico del dataset/periodo (p.ej. '2025-1')"},{"name":"variant","in":"query","required":false,"schema":{"type":"string","pattern":"^(processed|labeled)$","description":"Fuente: processed (preproc) o labeled (beto).","default":"processed","title":"Variant"},"description":"Fuente: processed (preproc) o labeled (beto)."},{"name":"mode","in":"query","required":false,"schema":{"type":"string","pattern":"^(ui|raw)$","description":"ui (normaliza columnas) o raw (sin normalizar).","default":"ui","title":"Mode"},"description":"ui (normaliza columnas) o raw (sin normalizar)."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":25,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetPreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datos/resumen":{"get":{"tags":["datos","datos"],"summary":"Devuelve KPIs generales del dataset y un resumen de columnas.","description":"Devuelve un resumen general del dataset para la UI de la pestaña **Datos**.\n\nFuente de datos:\n- Intenta leer el dataset \"procesado\" usando los helpers de\n  `neurocampus.data.datos_dashboard`, típicamente desde:\n    - `data/processed/{dataset_id}.parquet`\n    - o `datasets/{dataset_id}.parquet`, según configuración.\n\nContenido de la respuesta:\n- `n_rows`, `n_cols`\n- lista de `periodos` detectados (si existe la columna `periodo`)\n- número de docentes y asignaturas (si existen columnas compatibles)\n- lista de `columns` con nombre, tipo lógico y muestra de valores","operationId":"get_dataset_resumen_datos_resumen_get","parameters":[{"name":"dataset","in":"query","required":true,"schema":{"type":"string","description":"Identificador lógico del dataset (por ejemplo, 'evaluaciones_2025')","title":"Dataset"},"description":"Identificador lógico del dataset (por ejemplo, 'evaluaciones_2025')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetResumenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/datos/sentimientos":{"get":{"tags":["datos","datos"],"summary":"Devuelve distribución de sentimientos global y por docente/asignatura.","description":"Devuelve la distribución de sentimientos sobre los comentarios del dataset.\n\nFuente de datos:\n- Lee el dataset etiquetado (`data/labeled/{dataset_id}_beto.parquet`\n  o `{dataset_id}_teacher.parquet`) usando los helpers de dominio.\n\nContenido de la respuesta:\n- `total_comentarios` considerados (filas con comentario no vacío).\n- `global_counts`: distribución global de sentimientos (neg/neu/pos).\n- `por_docente`: lista de grupos con conteos por sentimiento.\n- `por_asignatura`: idem pero agrupado por asignatura.\n\nEsta respuesta está pensada para alimentar tres tipos de visualizaciones:\n- Barra/pastel global (Positivo/Neutro/Negativo).\n- Barras apiladas por docente.\n- Barras apiladas por asignatura.","operationId":"get_dataset_sentimientos_datos_sentimientos_get","parameters":[{"name":"dataset","in":"query","required":true,"schema":{"type":"string","description":"Identificador lógico del dataset (mismo que se usó para BETO)","title":"Dataset"},"description":"Identificador lógico del dataset (mismo que se usó para BETO)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetSentimientosResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/data/preprocesar_beto/run":{"post":{"tags":["jobs"],"summary":"Beto Run","description":"Lanza el job de preprocesamiento BETO.\n\nRetorna un ``job_id`` para hacer polling con ``/preproc/beto/estado``.","operationId":"beto_run_jobs_data_preprocesar_beto_run_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BetoRunRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/preproc/beto/run":{"post":{"tags":["jobs"],"summary":"Beto Run","description":"Lanza el job de preprocesamiento BETO.\n\nRetorna un ``job_id`` para hacer polling con ``/preproc/beto/estado``.","operationId":"beto_run_jobs_preproc_beto_run_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BetoRunRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/data/preprocesar_beto/estado":{"get":{"tags":["jobs"],"summary":"Beto Estado","description":"Consulta el estado del job BETO.","operationId":"beto_estado_jobs_data_preprocesar_beto_estado_get","parameters":[{"name":"job_id","in":"query","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/preproc/beto/estado":{"get":{"tags":["jobs"],"summary":"Beto Estado","description":"Consulta el estado del job BETO.","operationId":"beto_estado_jobs_preproc_beto_estado_get","parameters":[{"name":"job_id","in":"query","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/data/unify/run":{"post":{"tags":["jobs"],"summary":"Unify Run","description":"Lanza la unificación del histórico.\n\nRetorna ``job_id`` para polling en ``/data/unify/estado``.","operationId":"unify_run_jobs_data_unify_run_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifyRunRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/data/unify/estado":{"get":{"tags":["jobs"],"summary":"Unify Estado","description":"Consulta el estado del job UNIFY.","operationId":"unify_estado_jobs_data_unify_estado_get","parameters":[{"name":"job_id","in":"query","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/data/features/prepare/run":{"post":{"tags":["jobs"],"summary":"Features Prepare Run","description":"Lanza construcción de feature-pack.\n\nRetorna ``job_id`` para polling con ``/data/features/prepare/estado``.","operationId":"features_prepare_run_jobs_data_features_prepare_run_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeaturePackRunRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/jobs/data/features/prepare/estado":{"get":{"tags":["jobs"],"summary":"Features Prepare Estado","description":"Consulta el estado del job feature-pack.","operationId":"features_prepare_estado_jobs_data_features_prepare_estado_get","parameters":[{"name":"job_id","in":"query","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelos/readiness":{"get":{"tags":["modelos"],"summary":"Verifica insumos para entrenar (labeled / unified_labeled / feature_pack)","description":"Verifica existencia de artefactos mínimos para entrenar un dataset_id.","operationId":"readiness_modelos_readiness_get","parameters":[{"name":"dataset_id","in":"query","required":true,"schema":{"type":"string","title":"Dataset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadinessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelos/feature-pack/prepare":{"post":{"tags":["modelos"],"summary":"Construye el feature-pack para un dataset","description":"Construye (o re-construye) el **feature-pack** de un dataset.\n\nEste endpoint habilita el modo *automático* desde la pestaña **Data**:\n\n- Tras subir/procesar un dataset, el frontend puede llamar a este endpoint\n  para dejar listo ``artifacts/features/<dataset_id>/train_matrix.parquet``.\n\nTambién sirve como herramienta manual para debug/operación.\n\nResolución de ``input_uri`` (si no se envía):\n\n1. ``data/processed/<dataset_id>.parquet``\n2. ``data/labeled/<dataset_id>_beto.parquet`` (vía :func:`neurocampus.data.datos_dashboard.resolve_labeled_path`)\n3. ``datasets/<dataset_id>.parquet``\n\n:param dataset_id: Identificador del dataset (ej. ``\"2025-1\"``).\n:param input_uri: Ruta/URI del dataset origen.\n:param force: Si True, re-genera incluso si el feature-pack ya existe.\n:returns: Diccionario de rutas relativas a los artefactos del feature-pack.","operationId":"prepare_feature_pack_endpoint_modelos_feature_pack_prepare_post","parameters":[{"name":"dataset_id","in":"query","required":true,"schema":{"type":"string","title":"Dataset Id"}},{"name":"input_uri","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Input Uri"}},{"name":"force","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Force"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Prepare Feature Pack Endpoint Modelos Feature Pack Prepare Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelos/entrenar":{"post":{"tags":["modelos"],"summary":"Entrenar","description":"Lanza un entrenamiento en background y retorna job_id.","operationId":"entrenar_modelos_entrenar_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntrenarRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntrenarResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelos/estado/{job_id}":{"get":{"tags":["modelos"],"summary":"Estado","description":"Devuelve el estado actual de un job.","operationId":"estado_modelos_estado__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EstadoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelos/champion/promote":{"post":{"tags":["modelos"],"summary":"Promueve un run existente a champion (manual)","description":"Promueve manualmente un run existente a champion usando runs_io.","operationId":"promote_champion_modelos_champion_promote_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromoteChampionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChampionInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelos/runs":{"get":{"tags":["modelos"],"summary":"Lista runs de entrenamiento/auditoría de modelos","description":"Devuelve un resumen de runs encontrados en artifacts/runs.","operationId":"get_runs_modelos_runs_get","parameters":[{"name":"model_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"}},{"name":"dataset","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset"}},{"name":"dataset_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id"}},{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RunSummary"},"title":"Response Get Runs Modelos Runs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelos/runs/{run_id}":{"get":{"tags":["modelos"],"summary":"Detalles completos de un run (incluye config si existe)","description":"Devuelve detalles completos de un run leyendo artifacts del filesystem.","operationId":"get_run_details_modelos_runs__run_id__get","parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/modelos/champion":{"get":{"tags":["modelos"],"summary":"Devuelve info del modelo campeón actual (por dataset o legacy)","description":"Devuelve el campeón actual.","operationId":"get_champion_modelos_champion_get","parameters":[{"name":"model_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"}},{"name":"dataset","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset"}},{"name":"dataset_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id"}},{"name":"periodo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Periodo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChampionInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/prediccion/online":{"post":{"tags":["prediccion","prediccion"],"summary":"Prediccion Online","description":"Endpoint online: llamamos al facade y, si devuelve probabilidades,\najustamos la etiqueta final con reglas costo-sensibles (sin reentrenar).","operationId":"prediccion_online_prediccion_online_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrediccionOnlineRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrediccionOnlineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/prediccion/batch":{"post":{"tags":["prediccion","prediccion"],"summary":"Prediccion Batch","description":"Variante mínima: si llega `file`, lo leemos a filas {id, calificaciones, comentario}.\nSi no, podríamos aceptar JSON con data_ref (extensible).\nNota: aquí no forzamos aún la regla costo-sensible porque el contrato del facade/respuesta\npuede variar según implementación. Si tu batch devuelve 'proba' por ítem y el schema lo permite,\npuedes replicar el mismo post-proceso que en /online.","operationId":"prediccion_batch_prediccion_batch_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_prediccion_batch_prediccion_batch_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrediccionBatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/cleanup/inventory":{"get":{"tags":["admin"],"summary":"Get Inventory","description":"Inventario + candidatos (siempre dry_run).","operationId":"get_inventory_admin_cleanup_inventory_get","parameters":[{"name":"retention_days","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":90,"title":"Retention Days"}},{"name":"keep_last","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":3,"title":"Keep Last"}},{"name":"exclude_globs","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exclude Globs"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/cleanup":{"post":{"tags":["admin"],"summary":"Post Cleanup","description":"Ejecuta limpieza. Si dry_run=True, solo calcula; si force=True mueve a papelera.","operationId":"post_cleanup_admin_cleanup_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CleanupRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/admin/cleanup/logs":{"get":{"tags":["admin"],"summary":"Get Cleanup Logs","description":"Devuelve las últimas N líneas del log CSV como texto.","operationId":"get_cleanup_logs_admin_cleanup_logs_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":5000,"minimum":1,"default":200,"title":"Limit"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"BetoRunRequest":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id"},"treat_empty_as_no_text":{"type":"boolean","title":"Treat Empty As No Text","default":true},"force":{"type":"boolean","title":"Force","default":false}},"type":"object","required":["dataset_id"],"title":"BetoRunRequest","description":"Request para lanzar preprocesamiento BETO.\n\n:param dataset_id: ID de dataset/periodo (ej. ``2025-1``).\n:param treat_empty_as_no_text: Si True, convierte comentarios vacíos a NO_TEXT.\n:param force: Si True, recalcula aunque exista salida previa."},"Body_prediccion_batch_prediccion_batch_post":{"properties":{"file":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"File"}},"type":"object","title":"Body_prediccion_batch_prediccion_batch_post"},"Body_upload_dataset_datos_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Archivo CSV/XLSX/Parquet ya validado"},"periodo":{"type":"string","title":"Periodo","description":"Identificador de periodo (p. ej. '2024-2')"},"dataset_id":{"type":"string","title":"Dataset Id","description":"Alias por compatibilidad; actualmente se ignora y se usa 'periodo' como dataset_id"},"overwrite":{"type":"boolean","title":"Overwrite","description":"Sobrescribir el dataset si ya existe en disco","default":false}},"type":"object","required":["file","periodo","dataset_id"],"title":"Body_upload_dataset_datos_upload_post"},"Body_validar_datos_datos_validar_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV/XLSX/Parquet con evaluaciones"},"dataset_id":{"type":"string","title":"Dataset Id","description":"Identificador lógico del dataset (p. ej. 'docentes')"},"fmt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fmt","description":"Forzar lector: 'csv' | 'xlsx' | 'parquet' (opcional; normalmente se infiere por extensión)"}},"type":"object","required":["file","dataset_id"],"title":"Body_validar_datos_datos_validar_post"},"ChampionInfo":{"properties":{"model_name":{"type":"string","title":"Model Name"},"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id"},"metrics":{"additionalProperties":true,"type":"object","title":"Metrics"},"path":{"type":"string","title":"Path"}},"type":"object","required":["model_name","path"],"title":"ChampionInfo","description":"Información del modelo champion."},"CleanupRequest":{"properties":{"retention_days":{"type":"integer","minimum":0.0,"title":"Retention Days","default":90},"keep_last":{"type":"integer","minimum":0.0,"title":"Keep Last","default":3},"exclude_globs":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exclude Globs","description":"Globs separados por coma (p.ej. 'artifacts/champions/**,*.keep')"},"dry_run":{"type":"boolean","title":"Dry Run","default":true},"force":{"type":"boolean","title":"Force","default":false},"trash_dir":{"type":"string","title":"Trash Dir","default":".trash"},"trash_retention_days":{"type":"integer","minimum":0.0,"title":"Trash Retention Days","default":14}},"type":"object","title":"CleanupRequest"},"ColumnaResumen":{"properties":{"name":{"type":"string","title":"Name","description":"Nombre de la columna"},"dtype":{"type":"string","title":"Dtype","description":"Tipo lógico detectado (dtype normalizado)"},"non_nulls":{"type":"integer","minimum":0.0,"title":"Non Nulls","description":"Número de filas no nulas"},"sample_values":{"items":{"type":"string"},"type":"array","title":"Sample Values","description":"Pequeña muestra de valores distintos para ayudar al usuario"}},"type":"object","required":["name","dtype","non_nulls"],"title":"ColumnaResumen","description":"Resumen de una columna del dataset para mostrar en la UI (tabla de columnas)."},"DatasetPreviewResponse":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id"},"variant":{"type":"string","enum":["processed","labeled"],"title":"Variant"},"mode":{"type":"string","enum":["ui","raw"],"title":"Mode","default":"ui"},"source_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Path"},"n_rows_total":{"type":"integer","title":"N Rows Total"},"n_cols":{"type":"integer","title":"N Cols"},"columns":{"items":{"type":"string"},"type":"array","title":"Columns"},"rows":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Rows"}},"type":"object","required":["dataset_id","variant","n_rows_total","n_cols","columns","rows"],"title":"DatasetPreviewResponse","description":"Respuesta de GET /datos/preview.\n\n- mode=\"ui\": columnas normalizadas para la tabla de la UI\n  (ID, Teacher, Subject, Rating, Comment, y opcionalmente Sentiment).\n- mode=\"raw\": columnas reales del dataset (sin normalizar)."},"DatasetResumenResponse":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id","description":"Identificador lógico del dataset (periodo, etc.)"},"n_rows":{"type":"integer","minimum":0.0,"title":"N Rows","description":"Cantidad de filas"},"n_cols":{"type":"integer","minimum":0.0,"title":"N Cols","description":"Cantidad de columnas"},"periodos":{"items":{"type":"string"},"type":"array","title":"Periodos","description":"Valores únicos de la columna 'periodo', si existe"},"fecha_min":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Min","description":"Fecha mínima detectada (si hay columna de fecha)"},"fecha_max":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Max","description":"Fecha máxima detectada (si hay columna de fecha)"},"n_docentes":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"N Docentes","description":"Cantidad de docentes distintos (si hay columna compatible)"},"n_asignaturas":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"N Asignaturas","description":"Cantidad de asignaturas distintas (si hay columna compatible)"},"columns":{"items":{"$ref":"#/components/schemas/ColumnaResumen"},"type":"array","title":"Columns","description":"Resumen de columnas (para tabla de la UI)"}},"type":"object","required":["dataset_id","n_rows","n_cols"],"title":"DatasetResumenResponse","description":"Respuesta de GET /datos/resumen.\nProvee KPIs generales del dataset y un resumen por columna."},"DatasetSentimientosResponse":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id","description":"Dataset base sobre el que se corrió BETO"},"total_comentarios":{"type":"integer","minimum":0.0,"title":"Total Comentarios","description":"Total de filas con comentario no vacío"},"global_counts":{"items":{"$ref":"#/components/schemas/SentimentBreakdown"},"type":"array","title":"Global Counts","description":"Distribución global de sentimientos (para gráfico principal)"},"por_docente":{"items":{"$ref":"#/components/schemas/SentimentByGroup"},"type":"array","title":"Por Docente","description":"Distribución de sentimientos por docente"},"por_asignatura":{"items":{"$ref":"#/components/schemas/SentimentByGroup"},"type":"array","title":"Por Asignatura","description":"Distribución de sentimientos por asignatura"}},"type":"object","required":["dataset_id","total_comentarios"],"title":"DatasetSentimientosResponse","description":"Respuesta de GET /datos/sentimientos.\nDiseñada para alimentar las gráficas de la pestaña Datos."},"DatosUploadResponse":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id","description":"Identificador lógico del dataset (p.ej. periodo)"},"rows_ingested":{"type":"integer","title":"Rows Ingested","description":"Número de filas aceptadas/ingresadas"},"stored_as":{"type":"string","title":"Stored As","description":"URI/Path de almacenamiento (csv/parquet/etc.)"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","description":"Advertencias no bloqueantes (campos vacíos, coerciones, etc.)"}},"type":"object","required":["dataset_id","rows_ingested","stored_as"],"title":"DatosUploadResponse","description":"Respuesta de POST /datos/upload (mock Día 2).\nRepresenta el identificador lógico del dataset y metadatos de almacenamiento."},"EntrenarRequest":{"properties":{"modelo":{"type":"string","enum":["rbm_general","rbm_restringida","dbm_manual"],"title":"Modelo","description":"Tipo de modelo a entrenar (rbm_general | rbm_restringida | dbm_manual)."},"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id","description":"Identificador del dataset (recomendado). Usualmente coincide con el periodo (ej. '2024-2')."},"periodo_actual":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Periodo Actual","description":"Campo legacy para periodo de referencia (ej. '2024-2'). Se sincroniza con dataset_id."},"data_ref":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Ref","description":"Override manual/legacy de la ruta de datos. Si no se provee, el backend resuelve la ruta según data_source + dataset_id."},"metodologia":{"type":"string","enum":["periodo_actual","acumulado","ventana"],"title":"Metodologia","description":"Estrategia de selección de datos: 'periodo_actual' (solo dataset actual), 'acumulado' (histórico <= periodo_actual), 'ventana' (últimos N periodos).","default":"periodo_actual"},"ventana_n":{"type":"integer","minimum":1.0,"title":"Ventana N","description":"Tamaño de ventana para metodologia='ventana' (>=1).","default":4},"data_source":{"type":"string","enum":["feature_pack","labeled","unified_labeled"],"title":"Data Source","description":"Fuente de datos: 'feature_pack' (artifacts/features/<dataset_id>/train_matrix.parquet), 'labeled' (data/labeled/<dataset_id>_beto.parquet), 'unified_labeled' (historico/unificado_labeled.parquet).","default":"feature_pack"},"target_mode":{"type":"string","enum":["sentiment_probs","sentiment_label","score_only"],"title":"Target Mode","description":"Modo del target. Recomendado: sentiment_probs (p_neg/p_neu/p_pos).","default":"sentiment_probs"},"include_teacher_materia":{"type":"boolean","title":"Include Teacher Materia","description":"Si True, incluye features de docente/materia en el entrenamiento.","default":true},"teacher_materia_mode":{"anyOf":[{"type":"string","enum":["embed","onehot","none"]},{"type":"null"}],"title":"Teacher Materia Mode","description":"Modo para representar docente/materia (embed/onehot/none). Si include_teacher_materia=True y se omite, el backend debería usar 'embed'."},"auto_prepare":{"type":"boolean","title":"Auto Prepare","description":"Si True, el backend puede intentar preparar artifacts faltantes (unificado/feature-pack) antes de entrenar.","default":true},"split_mode":{"type":"string","enum":["temporal","stratified","random"],"title":"Split Mode","description":"Modo de split para train/val (temporal/stratified/random).","default":"temporal"},"val_ratio":{"type":"number","maximum":0.5,"minimum":0.0,"title":"Val Ratio","description":"Proporción del set de validación (0..0.5).","default":0.2},"epochs":{"type":"integer","maximum":500.0,"minimum":1.0,"title":"Epochs","description":"Número de épocas de entrenamiento (1..500).","default":5},"hparams":{"additionalProperties":true,"type":"object","title":"Hparams","description":"Hiperparámetros del entrenamiento (dict flexible)."}},"type":"object","required":["modelo"],"title":"EntrenarRequest","description":"Request para lanzar el entrenamiento de un modelo.\n\nLa fuente de entrenamiento puede ser un artifact reproducible (**feature-pack**)\no dataframes derivados (**labeled / unified_labeled**).\n\n.. important::\n   Para el flujo actualizado, lo recomendado es:\n   ``data_source=\"feature_pack\"`` y ``target_mode=\"sentiment_probs\"``.\n\n:param modelo: Tipo de modelo a entrenar.\n:param dataset_id: Identificador del dataset (normalmente el periodo, p. ej. ``2024-2``).\n    Se sincroniza con ``periodo_actual`` para compatibilidad.\n:param periodo_actual: Campo legacy (periodo de referencia). Si se omite pero hay\n    ``dataset_id``, se copia automáticamente.\n:param metodologia: Estrategia de selección de datos (periodo actual / acumulado / ventana).\n:param ventana_n: Tamaño de la ventana si ``metodologia=\"ventana\"``.\n:param data_source: Fuente de datos para entrenamiento.\n:param data_ref: Override manual (legacy/debug). Si se provee, el backend puede usarlo\n    como ruta explícita.\n:param target_mode: Objetivo a entrenar (por defecto ``sentiment_probs``).\n:param include_teacher_materia: Si ``True``, incluir features de docente/materia.\n:param teacher_materia_mode: Modo para representar docente/materia (embed/onehot/none).\n    Si ``include_teacher_materia=True`` y este campo se omite, el backend debería\n    aplicar un default (normalmente ``embed``).\n:param auto_prepare: Si ``True``, el backend intentará generar artifacts faltantes\n    (unificado/feature-pack) cuando sea posible.\n:param split_mode: Cómo hacer train/val.\n:param val_ratio: Proporción del set de validación (0..0.5 recomendado).\n:param epochs: Número de épocas de entrenamiento.\n:param hparams: Hiperparámetros específicos del modelo (dict flexible)."},"EntrenarResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"type":"string","enum":["queued","running"],"title":"Status","default":"queued"},"message":{"type":"string","title":"Message","default":"Entrenamiento lanzado"}},"type":"object","required":["job_id"],"title":"EntrenarResponse","description":"Respuesta inmediata al lanzar un entrenamiento (job async)."},"EpochItem":{"properties":{"epoch":{"type":"integer","title":"Epoch","description":"Época actual (1..N)."},"loss":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Loss","description":"Pérdida (loss) de la época (opcional)."},"recon_error":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Recon Error","description":"Error de reconstrucción (opcional)."},"cls_loss":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cls Loss","description":"Loss de clasificación (opcional)."},"accuracy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Accuracy","description":"Accuracy en train (opcional)."},"val_accuracy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Val Accuracy","description":"Accuracy en validación (opcional)."},"val_f1_macro":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Val F1 Macro","description":"F1 macro en validación (opcional)."},"grad_norm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Grad Norm","description":"Norma de gradiente (opcional)."},"time_epoch_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Time Epoch Ms","description":"Tiempo por época en ms (opcional)."}},"type":"object","required":["epoch"],"title":"EpochItem","description":"Métricas reportadas por época (para graficar en UI).\n\nSe recomienda que el backend reporte al menos:\n- loss (total o cls_loss)\n- recon_error (si aplica)\n- accuracy / val_accuracy\n- val_f1_macro\n- time_epoch_ms"},"EsquemaCol":{"properties":{"name":{"type":"string","title":"Name","description":"Nombre de la columna"},"dtype":{"type":"string","enum":["string","number","integer","boolean","date"],"title":"Dtype","description":"Tipo lógico esperado por el backend/UI"},"required":{"type":"boolean","title":"Required","description":"Indica si la columna es obligatoria en el upload","default":false},"domain":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Domain","description":"Valores permitidos (si aplica)"},"range":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},{"type":"null"}],"title":"Range","description":"Rango permitido para números (min, max)"},"max_len":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Len","description":"Longitud máxima permitida para strings"}},"type":"object","required":["name","dtype"],"title":"EsquemaCol","description":"Define una columna del esquema que la UI utilizará para construir formularios\ndinámicos y validaciones de entrada."},"EsquemaResponse":{"properties":{"version":{"type":"string","title":"Version","description":"Versión del esquema publicado","default":"v0.2.0"},"columns":{"items":{"$ref":"#/components/schemas/EsquemaCol"},"type":"array","title":"Columns","description":"Definición de columnas esperadas por el upload"}},"type":"object","required":["columns"],"title":"EsquemaResponse","description":"Respuesta de GET /datos/esquema. Versiona el contrato para que\nla UI pueda cachear y detectar cambios."},"EstadoResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"type":"string","enum":["queued","running","completed","failed","unknown"],"title":"Status","description":"Estado del job."},"progress":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Progress","description":"Progreso 0..1.","default":0.0},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Nombre lógico del modelo en ejecución."},"params":{"additionalProperties":true,"type":"object","title":"Params","description":"Parámetros/hparams efectivos del job."},"metrics":{"additionalProperties":true,"type":"object","title":"Metrics","description":"Métricas globales (dict flexible)."},"history":{"items":{"$ref":"#/components/schemas/EpochItem"},"type":"array","title":"History","description":"Historial por época."},"run_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Run Id","description":"run_id generado al completar (si aplica)."},"artifact_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Artifact Path","description":"Ruta al directorio de artifacts del run."},"champion_promoted":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Champion Promoted","description":"True si el run fue promovido a champion."},"time_total_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Time Total Ms","description":"Tiempo total del job (ms)."},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Mensaje de error si falló."}},"type":"object","required":["job_id","status"],"title":"EstadoResponse","description":"Estado actual de un job de entrenamiento.\n\nIncluye métricas + trazas por época y metadatos de ejecución útiles para UI."},"FeaturePackRunRequest":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id"},"input_uri":{"type":"string","title":"Input Uri","default":""}},"type":"object","required":["dataset_id"],"title":"FeaturePackRunRequest","description":"Request para construir feature-pack.\n\n:param dataset_id: ID de dataset/periodo (ej. ``2025-1``).\n:param input_uri: Dataset fuente (normalmente labeled o processed)."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"OnlineInput":{"properties":{"calificaciones":{"additionalProperties":{"type":"number"},"type":"object","title":"Calificaciones"},"comentario":{"type":"string","title":"Comentario","default":""}},"type":"object","title":"OnlineInput"},"PrediccionBatchResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"summary":{"additionalProperties":true,"type":"object","title":"Summary"},"sample":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Sample"},"artifact":{"type":"string","title":"Artifact"},"correlation_id":{"type":"string","title":"Correlation Id"}},"type":"object","required":["batch_id","summary","sample","artifact","correlation_id"],"title":"PrediccionBatchResponse"},"PrediccionOnlineRequest":{"properties":{"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id"},"family":{"type":"string","title":"Family","default":"sentiment_desempeno"},"input":{"$ref":"#/components/schemas/OnlineInput"}},"type":"object","required":["input"],"title":"PrediccionOnlineRequest"},"PrediccionOnlineResponse":{"properties":{"label_top":{"type":"string","title":"Label Top"},"scores":{"additionalProperties":{"type":"number"},"type":"object","title":"Scores"},"sentiment":{"additionalProperties":{"type":"number"},"type":"object","title":"Sentiment"},"confidence":{"type":"number","title":"Confidence"},"latency_ms":{"type":"integer","title":"Latency Ms"},"correlation_id":{"type":"string","title":"Correlation Id"}},"type":"object","required":["label_top","scores","sentiment","confidence","latency_ms","correlation_id"],"title":"PrediccionOnlineResponse"},"PromoteChampionRequest":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id"},"run_id":{"type":"string","title":"Run Id"},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"}},"type":"object","required":["dataset_id","run_id"],"title":"PromoteChampionRequest","description":"Request para promover un run existente a champion manualmente."},"ReadinessResponse":{"properties":{"dataset_id":{"type":"string","title":"Dataset Id"},"labeled_exists":{"type":"boolean","title":"Labeled Exists"},"unified_labeled_exists":{"type":"boolean","title":"Unified Labeled Exists"},"feature_pack_exists":{"type":"boolean","title":"Feature Pack Exists"},"paths":{"additionalProperties":{"type":"string"},"type":"object","title":"Paths"}},"type":"object","required":["dataset_id","labeled_exists","unified_labeled_exists","feature_pack_exists"],"title":"ReadinessResponse","description":"Respuesta del endpoint ``GET /modelos/readiness``."},"RunDetails":{"properties":{"run_id":{"type":"string","title":"Run Id"},"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id"},"metrics":{"additionalProperties":true,"type":"object","title":"Metrics"},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config"},"artifact_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Artifact Path"}},"type":"object","required":["run_id","metrics"],"title":"RunDetails","description":"Detalle completo de un run."},"RunSummary":{"properties":{"run_id":{"type":"string","title":"Run Id"},"model_name":{"type":"string","title":"Model Name"},"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id"},"created_at":{"type":"string","title":"Created At"},"metrics":{"additionalProperties":true,"type":"object","title":"Metrics"}},"type":"object","required":["run_id","model_name","created_at"],"title":"RunSummary","description":"Resumen ligero de un run para listados."},"SentimentBreakdown":{"properties":{"label":{"$ref":"#/components/schemas/SentimentLabel","description":"Etiqueta de sentimiento"},"count":{"type":"integer","minimum":0.0,"title":"Count","description":"Cantidad de comentarios"},"proportion":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Proportion","description":"Proporción sobre el total [0,1]"}},"type":"object","required":["label","count","proportion"],"title":"SentimentBreakdown","description":"Conteo de comentarios por sentimiento.\nLas etiquetas son las usadas internamente en BETO/teacher: neg | neu | pos."},"SentimentByGroup":{"properties":{"group":{"type":"string","title":"Group","description":"Nombre del docente/asignatura"},"counts":{"items":{"$ref":"#/components/schemas/SentimentBreakdown"},"type":"array","title":"Counts","description":"Conteos de sentimientos en este grupo"}},"type":"object","required":["group"],"title":"SentimentByGroup","description":"Distribución de sentimientos por grupo (docente o asignatura)."},"SentimentLabel":{"type":"string","enum":["pos","neu","neg"],"title":"SentimentLabel"},"UnifyRunRequest":{"properties":{"mode":{"type":"string","enum":["acumulado","acumulado_labeled"],"title":"Mode","default":"acumulado"}},"type":"object","title":"UnifyRunRequest","description":"Request para unificar histórico.\n\n:param mode: ``acumulado`` (history) o ``acumulado_labeled`` (labeled)."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}